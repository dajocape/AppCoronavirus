<ion-header>
	<ion-navbar color="primary">
		<ion-title>Mi cuarentena</ion-title>
		<ion-buttons end>
			<button ion-button icon-only (click)="cerrarSesion()">
				<ion-icon name="log-out"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>

<ion-content padding>

    <div class="container">

        <p class="description">Para empezar a calcular tu nivel de exposición necesitamos conocer la ubicación de tu casa y su tamaño. Cuando estés en ella, toca el botón para registrarla.</p>
        <ion-input type="number" placeholder="Radio de tu casa" [(ngModel)]="homeRadius"></ion-input>
        <button ion-button icon-end full (click)="registerHomeHandler()">
            Enviar radio y ubicación
            <ion-icon name="pin"></ion-icon>
        </button>

        <p class="home-registered-message" *ngIf="homeLocationDate !== undefined">
            Ya registraste tu casa en: {{ getDateFromeTimestamp(homeLocationDate) }}
        </p>
        <p class="home-unregistered-message" *ngIf="homeLocationDate === undefined">
            Aún no has registrado tu casa
        </p>

    </div>

    <hr />

    <h3 style="text-align: center;" >Nivel de exposición</h3>
    <p class="description" style="text-align: center;">
        Este es su nivel de exposición actual.
        <button ion-button icon-only round class="info-button" color="primary" (click)="infoActual()" clear>
            <ion-icon name="ios-information-circle"></ion-icon>
        </button>
    </p>

    <div class="circle-container" style="text-align: center;">
        <svg id="svg0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            width="50%" height="50%" viewBox="0, 0, 400,400">
            <g id="svgg">
                <text x="50%" y="50%" text-anchor="middle" style="font-size: 40px;">Ahora: {{ currentScore }}</text>
                <path id="path0" stroke="none" [attr.fill]="currentScoreColor" fill-rule="evenodd" d="M184.000 0.438 C 60.298 11.121,-24.063 128.609,5.862 248.524 C 32.599 355.662,141.307 420.894,248.524 394.138 C 365.703 364.895,430.494 238.821,386.120 126.400 C 353.970 44.949,270.553 -7.037,184.000 0.438 M216.371 67.769 C 300.590 78.997,352.967 162.420,326.182 242.670 C 304.327 308.151,234.662 346.094,167.400 329.150 C 92.186 310.203,49.160 231.207,73.818 157.330 C 90.058 108.673,134.814 72.696,185.400 67.636 C 187.820 67.394,190.340 67.122,191.000 67.031 C 193.700 66.661,212.068 67.195,216.371 67.769 "></path>
            </g>
        </svg>
    </div>

    <hr/>

    <div id="score-bar">
        <p class="description" style="text-align: center;">
            Nivel de exposición a lo largo del día.
            <button ion-button icon-only round class="info-button" color="primary" (click)="infoAllDay()" clear>
                <ion-icon name="ios-information-circle"></ion-icon>
            </button>
        </p>
        <div>
            <div class="day1">01h00</div><div class="days">06h00</div><div class="days">12h00</div><div class="days">18h00</div><div class="day24"></div>
        </div>
        <div class="score-square" *ngFor="let score of scores"  [ngStyle]="{ 'background-color': score.color }"></div>
    </div>

</ion-content>
