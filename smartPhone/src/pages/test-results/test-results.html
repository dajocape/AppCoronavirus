<ion-header>
	<ion-navbar color="primary">
		<ion-title>Pruebas</ion-title>
		<ion-buttons end>
			<button ion-button icon-only (click)="cerrarSesion()">
				<ion-icon name="log-out"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>

<ion-content>

    <div class="pin-container" margin>
        <h2 class="title">Busca tu prueba</h2>
        <p class="description">Necesitas el código de muestra que fue provisto por la persona que te atendió en el centro de salud o laboratorio.</p>
        <div class="form">
            <ion-input id="ingresaCodigoInput" type="text" placeholder="Ingresa el código aquí" [(ngModel)]="sampleId"></ion-input>
            <button ion-button class="button" (click)="searchTestResults()">
                <p id="buscarButtonText">Buscar</p>
            </button>
        </div>
    </div>

    <div *ngIf="!testFound" class="not-found-message">
        <p>No se ha encontrado ninguna prueba con ese código</p>
    </div>

    <ion-card *ngIf="result">
        <ion-card-header style="text-align: center;">
            Resultado
        </ion-card-header>

        <ion-card-content style="padding-top:10px;">
            <div class="result-container">
                <span class="result1-label result-text">Estado: </span><span class="result-value value-1 result-text">{{ testStatuses[result.estado] }}</span>
                <span class="result2-label result-text">Resultado: </span><span class="result-value value-2 result-text">{{ testResults[result.resultado] }}</span>
                <div class="advice">
                    <p class="advice-title">Recomendación</p>
                    <p class="advice-content">{{ result['recomendación'] }}</p>
                </div>
            </div>
        </ion-card-content>
    </ion-card>

</ion-content>
